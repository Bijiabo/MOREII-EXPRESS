Test failed!
In file included from ../src/Image.cc:6:0:
../src/Image.h:134:62: error: ‘AccessorInfo’ does not name a type
   static Handle<Value> GetMaxWidth(Local<String> prop, const AccessorInfo &info);
                                                              ^
../src/Image.h:134:76: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static Handle<Value> GetMaxWidth(Local<String> prop, const AccessorInfo &info);
                                                                            ^
../src/Image.h:135:73: error: ‘AccessorInfo’ does not name a type
   static void SetMaxWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                         ^
../src/Image.h:135:87: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static void SetMaxWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                                       ^
../src/Image.h:136:63: error: ‘AccessorInfo’ does not name a type
   static Handle<Value> GetMaxHeight(Local<String> prop, const AccessorInfo &info);
                                                               ^
../src/Image.h:136:77: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static Handle<Value> GetMaxHeight(Local<String> prop, const AccessorInfo &info);
                                                                             ^
../src/Image.h:137:74: error: ‘AccessorInfo’ does not name a type
   static void SetMaxHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                          ^
../src/Image.h:137:88: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static void SetMaxHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                                        ^
../src/Image.h:140:34: error: ‘Arguments’ does not name a type
   static Handle<Value> New(const Arguments &args);
                                  ^
../src/Image.h:140:45: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> New(const Arguments &args);
                                             ^
../src/Image.h:143:59: error: ‘AccessorInfo’ does not name a type
   static Handle<Value> GetWidth(Local<String> prop, const AccessorInfo &info);
                                                           ^
../src/Image.h:143:73: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static Handle<Value> GetWidth(Local<String> prop, const AccessorInfo &info);
                                                                         ^
../src/Image.h:144:70: error: ‘AccessorInfo’ does not name a type
   static void SetWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                      ^
../src/Image.h:144:84: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static void SetWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                                    ^
../src/Image.h:145:60: error: ‘AccessorInfo’ does not name a type
   static Handle<Value> GetHeight(Local<String> prop, const AccessorInfo &info);
                                                            ^
../src/Image.h:145:74: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static Handle<Value> GetHeight(Local<String> prop, const AccessorInfo &info);
                                                                          ^
../src/Image.h:146:71: error: ‘AccessorInfo’ does not name a type
   static void SetHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                       ^
../src/Image.h:146:85: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static void SetHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info);
                                                                                     ^
../src/Image.h:147:65: error: ‘AccessorInfo’ does not name a type
   static Handle<Value> GetTransparent(Local<String> prop, const AccessorInfo &info);
                                                                 ^
../src/Image.h:147:79: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
   static Handle<Value> GetTransparent(Local<String> prop, const AccessorInfo &info);
                                                                               ^
../src/Image.h:149:37: error: ‘Arguments’ does not name a type
   static Handle<Value> Resize(const Arguments &args);
                                     ^
../src/Image.h:149:48: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> Resize(const Arguments &args);
                                                ^
../src/Image.h:150:40: error: ‘Arguments’ does not name a type
   static Handle<Value> FillColor(const Arguments &args);
                                        ^
../src/Image.h:150:51: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> FillColor(const Arguments &args);
                                                   ^
../src/Image.h:151:45: error: ‘Arguments’ does not name a type
   static Handle<Value> LoadFromBuffer(const Arguments &args);
                                             ^
../src/Image.h:151:56: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> LoadFromBuffer(const Arguments &args);
                                                        ^
../src/Image.h:152:44: error: ‘Arguments’ does not name a type
   static Handle<Value> CopyFromImage(const Arguments &args);
                                            ^
../src/Image.h:152:55: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> CopyFromImage(const Arguments &args);
                                                       ^
../src/Image.h:154:40: error: ‘Arguments’ does not name a type
   static Handle<Value> DrawImage(const Arguments &args);
                                        ^
../src/Image.h:154:51: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> DrawImage(const Arguments &args);
                                                   ^
../src/Image.h:155:39: error: ‘Arguments’ does not name a type
   static Handle<Value> ToBuffer(const Arguments &args);
                                       ^
../src/Image.h:155:50: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
   static Handle<Value> ToBuffer(const Arguments &args);
                                                  ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static void Image::Initialize(v8::Handle<v8::Object>)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:45:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:50:60: error: no matching function for call to ‘v8::FunctionTemplate::New(v8::Handle<v8::Value> (&)(const int&))’
     Local<FunctionTemplate> tpl = FunctionTemplate::New(New);
                                                            ^
../src/Image.cc:50:60: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:3519:34: note: static v8::Local<v8::FunctionTemplate> v8::FunctionTemplate::New(v8::Isolate*, v8::FunctionCallback, v8::Handle<v8::Value>, v8::Handle<v8::Signature>, int)
   static Local<FunctionTemplate> New(
                                  ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:3519:34: note:   no known conversion for argument 1 from ‘v8::Handle<v8::Value>(const int&)’ to ‘v8::Isolate*’
../src/Image.cc:51:56: error: no matching function for call to ‘v8::Persistent<v8::FunctionTemplate>::New(v8::Local<v8::FunctionTemplate>&)’
     constructor = Persistent<FunctionTemplate>::New(tpl);
                                                        ^
../src/Image.cc:51:56: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:5757:4: note: static T* v8::PersistentBase<T>::New(v8::Isolate*, T*) [with T = v8::FunctionTemplate]
 T* PersistentBase<T>::New(Isolate* isolate, T* that) {
    ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:5757:4: note:   candidate expects 2 arguments, 1 provided
../src/Image.cc:52:16: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::FunctionTemplate>’
     constructor->InstanceTemplate()->SetInternalFieldCount(1);
                ^
../src/Image.cc:53:16: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::FunctionTemplate>’
     constructor->SetClassName(String::NewSymbol("Image"));
                ^
../src/Image.cc:53:31: error: ‘NewSymbol’ is not a member of ‘v8::String’
     constructor->SetClassName(String::NewSymbol("Image"));
                               ^
../src/Image.cc:56:46: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::FunctionTemplate>’
     Local<ObjectTemplate> proto = constructor->PrototypeTemplate();
                                              ^
../src/Image.cc:57:60: error: could not convert ‘Image::constructor’ from ‘v8::Persistent<v8::FunctionTemplate>’ to ‘v8::Handle<v8::FunctionTemplate>’
     NODE_SET_PROTOTYPE_METHOD(constructor, "resize", Resize);
                                                            ^
../src/Image.cc:58:66: error: could not convert ‘Image::constructor’ from ‘v8::Persistent<v8::FunctionTemplate>’ to ‘v8::Handle<v8::FunctionTemplate>’
     NODE_SET_PROTOTYPE_METHOD(constructor, "fillColor", FillColor);
                                                                  ^
../src/Image.cc:59:76: error: could not convert ‘Image::constructor’ from ‘v8::Persistent<v8::FunctionTemplate>’ to ‘v8::Handle<v8::FunctionTemplate>’
     NODE_SET_PROTOTYPE_METHOD(constructor, "loadFromBuffer", LoadFromBuffer);
                                                                            ^
../src/Image.cc:60:74: error: could not convert ‘Image::constructor’ from ‘v8::Persistent<v8::FunctionTemplate>’ to ‘v8::Handle<v8::FunctionTemplate>’
     NODE_SET_PROTOTYPE_METHOD(constructor, "copyFromImage", CopyFromImage);
                                                                          ^
../src/Image.cc:61:66: error: could not convert ‘Image::constructor’ from ‘v8::Persistent<v8::FunctionTemplate>’ to ‘v8::Handle<v8::FunctionTemplate>’
     NODE_SET_PROTOTYPE_METHOD(constructor, "drawImage", DrawImage);
                                                                  ^
../src/Image.cc:62:64: error: could not convert ‘Image::constructor’ from ‘v8::Persistent<v8::FunctionTemplate>’ to ‘v8::Handle<v8::FunctionTemplate>’
     NODE_SET_PROTOTYPE_METHOD(constructor, "toBuffer", ToBuffer);
                                                                ^
../src/Image.cc:64:24: error: ‘NewSymbol’ is not a member of ‘v8::String’
     proto->SetAccessor(String::NewSymbol("width"), GetWidth, SetWidth);
                        ^
../src/Image.cc:65:24: error: ‘NewSymbol’ is not a member of ‘v8::String’
     proto->SetAccessor(String::NewSymbol("height"), GetHeight, SetHeight);
                        ^
../src/Image.cc:66:24: error: ‘NewSymbol’ is not a member of ‘v8::String’
     proto->SetAccessor(String::NewSymbol("transparent"), GetTransparent);
                        ^
../src/Image.cc:74:25: error: ‘NewSymbol’ is not a member of ‘v8::String’
     target->SetAccessor(String::NewSymbol("maxWidth"), GetMaxWidth, SetMaxWidth);
                         ^
../src/Image.cc:75:25: error: ‘NewSymbol’ is not a member of ‘v8::String’
     target->SetAccessor(String::NewSymbol("maxHeight"), GetMaxHeight, SetMaxHeight);
                         ^
../src/Image.cc:77:17: error: ‘NewSymbol’ is not a member of ‘v8::String’
     target->Set(String::NewSymbol("Image"), constructor->GetFunction());
                 ^
../src/Image.cc:77:56: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::FunctionTemplate>’
     target->Set(String::NewSymbol("Image"), constructor->GetFunction());
                                                        ^
../src/Image.cc: In static member function ‘static v8::Local<v8::Value> Image::getError()’:
../src/Image.cc:86:41: error: ‘New’ is not a member of ‘v8::String’
     Local<Value> err = Exception::Error(String::New(error ? error : "Unknow Error"));
                                         ^
../src/Image.cc: At global scope:
../src/Image.cc:95:60: error: ‘AccessorInfo’ does not name a type
 Handle<Value> Image::GetMaxWidth(Local<String> prop, const AccessorInfo &info){ // {{{
                                                            ^
../src/Image.cc:95:74: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 Handle<Value> Image::GetMaxWidth(Local<String> prop, const AccessorInfo &info){ // {{{
                                                                          ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::GetMaxWidth(v8::Local<v8::String>, const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:96:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:97:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Number::New(maxWidth));
                  ^
../src/Image.cc:97:44: error: no matching function for call to ‘v8::Number::New(size_t&)’
     return scope.Close(Number::New(maxWidth));
                                            ^
../src/Image.cc:97:44: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)
   static Local<Number> New(Isolate* isolate, double value);
                        ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note:   candidate expects 2 arguments, 1 provided
../src/Image.cc: At global scope:
../src/Image.cc:100:71: error: ‘AccessorInfo’ does not name a type
 void Image::SetMaxWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                       ^
../src/Image.cc:100:85: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 void Image::SetMaxWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                                     ^
../src/Image.cc:105:61: error: ‘AccessorInfo’ does not name a type
 Handle<Value> Image::GetMaxHeight(Local<String> prop, const AccessorInfo &info){ // {{{
                                                             ^
../src/Image.cc:105:75: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 Handle<Value> Image::GetMaxHeight(Local<String> prop, const AccessorInfo &info){ // {{{
                                                                           ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::GetMaxHeight(v8::Local<v8::String>, const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:106:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:107:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Number::New(maxHeight));
                  ^
../src/Image.cc:107:45: error: no matching function for call to ‘v8::Number::New(size_t&)’
     return scope.Close(Number::New(maxHeight));
                                             ^
../src/Image.cc:107:45: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)
   static Local<Number> New(Isolate* isolate, double value);
                        ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note:   candidate expects 2 arguments, 1 provided
../src/Image.cc: At global scope:
../src/Image.cc:110:72: error: ‘AccessorInfo’ does not name a type
 void Image::SetMaxHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                        ^
../src/Image.cc:110:86: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 void Image::SetMaxHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                                      ^
../src/Image.cc:115:32: error: ‘Arguments’ does not name a type
 Handle<Value> Image::New(const Arguments &args){ // {{{
                                ^
../src/Image.cc:115:43: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value> Image::New(const Arguments &args){ // {{{
                                           ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::New(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:116:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:123:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[0]->IsNumber()) width = args[0]->Uint32Value();
              ^
../src/Image.cc:123:43: error: invalid types ‘const int[int]’ for array subscript
     if(args[0]->IsNumber()) width = args[0]->Uint32Value();
                                           ^
../src/Image.cc:124:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[1]->IsNumber()) height = args[1]->Uint32Value();
              ^
../src/Image.cc:124:44: error: invalid types ‘const int[int]’ for array subscript
     if(args[1]->IsNumber()) height = args[1]->Uint32Value();
                                            ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:28:27: note: in expansion of macro ‘THROW’
 #define THROW_GET_ERROR() THROW(GET_ERROR())
                           ^
../src/Image.cc:129:16: note: in expansion of macro ‘THROW_GET_ERROR’
         return THROW_GET_ERROR();
                ^
../src/Image.cc:132:20: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     img->Wrap(args.This());
                    ^
../src/Image.cc:133:17: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     return args.This();
                 ^
../src/Image.cc: At global scope:
../src/Image.cc:136:57: error: ‘AccessorInfo’ does not name a type
 Handle<Value> Image::GetWidth(Local<String> prop, const AccessorInfo &info){ // {{{
                                                         ^
../src/Image.cc:136:71: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 Handle<Value> Image::GetWidth(Local<String> prop, const AccessorInfo &info){ // {{{
                                                                       ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::GetWidth(v8::Local<v8::String>, const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:137:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:138:49: error: request for member ‘This’ in ‘info’, which is of non-class type ‘const int’
     Image *img = ObjectWrap::Unwrap<Image>(info.This());
                                                 ^
../src/Image.cc:139:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Number::New(img->pixels->width));
                  ^
../src/Image.cc:139:54: error: no matching function for call to ‘v8::Number::New(size_t&)’
     return scope.Close(Number::New(img->pixels->width));
                                                      ^
../src/Image.cc:139:54: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)
   static Local<Number> New(Isolate* isolate, double value);
                        ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note:   candidate expects 2 arguments, 1 provided
../src/Image.cc: At global scope:
../src/Image.cc:142:68: error: ‘AccessorInfo’ does not name a type
 void Image::SetWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                    ^
../src/Image.cc:142:82: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 void Image::SetWidth(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                                  ^
../src/Image.cc: In static member function ‘static void Image::SetWidth(v8::Local<v8::String>, v8::Local<v8::Value>, const int&)’:
../src/Image.cc:144:53: error: request for member ‘This’ in ‘info’, which is of non-class type ‘const int’
         Image *img = ObjectWrap::Unwrap<Image>(info.This());
                                                     ^
../src/Image.cc: At global scope:
../src/Image.cc:149:58: error: ‘AccessorInfo’ does not name a type
 Handle<Value> Image::GetHeight(Local<String> prop, const AccessorInfo &info){ // {{{
                                                          ^
../src/Image.cc:149:72: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 Handle<Value> Image::GetHeight(Local<String> prop, const AccessorInfo &info){ // {{{
                                                                        ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::GetHeight(v8::Local<v8::String>, const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:150:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:151:49: error: request for member ‘This’ in ‘info’, which is of non-class type ‘const int’
     Image *img = ObjectWrap::Unwrap<Image>(info.This());
                                                 ^
../src/Image.cc:152:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Number::New(img->pixels->height));
                  ^
../src/Image.cc:152:55: error: no matching function for call to ‘v8::Number::New(size_t&)’
     return scope.Close(Number::New(img->pixels->height));
                                                       ^
../src/Image.cc:152:55: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)
   static Local<Number> New(Isolate* isolate, double value);
                        ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note:   candidate expects 2 arguments, 1 provided
../src/Image.cc: At global scope:
../src/Image.cc:155:69: error: ‘AccessorInfo’ does not name a type
 void Image::SetHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                     ^
../src/Image.cc:155:83: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 void Image::SetHeight(Local<String> prop, Local<Value> value, const AccessorInfo &info){ // {{{
                                                                                   ^
../src/Image.cc: In static member function ‘static void Image::SetHeight(v8::Local<v8::String>, v8::Local<v8::Value>, const int&)’:
../src/Image.cc:157:53: error: request for member ‘This’ in ‘info’, which is of non-class type ‘const int’
         Image *img = ObjectWrap::Unwrap<Image>(info.This());
                                                     ^
../src/Image.cc: At global scope:
../src/Image.cc:167:34: error: ‘Arguments’ does not name a type
 Handle<Value>Image::Resize(const Arguments &args) {
                                  ^
../src/Image.cc:167:45: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value>Image::Resize(const Arguments &args) {
                                             ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::Resize(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:168:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:171:17: error: invalid types ‘const int[int]’ for array subscript
     if( (!args[0]->IsNull() && !args[0]->IsUndefined () && !args[0]->IsNumber()) ||
                 ^
../src/Image.cc:171:39: error: invalid types ‘const int[int]’ for array subscript
     if( (!args[0]->IsNull() && !args[0]->IsUndefined () && !args[0]->IsNumber()) ||
                                       ^
../src/Image.cc:171:67: error: invalid types ‘const int[int]’ for array subscript
     if( (!args[0]->IsNull() && !args[0]->IsUndefined () && !args[0]->IsNumber()) ||
                                                                   ^
../src/Image.cc:172:17: error: invalid types ‘const int[int]’ for array subscript
         (!args[1]->IsNull() && !args[1]->IsUndefined () && !args[1]->IsNumber()) )
                 ^
../src/Image.cc:172:39: error: invalid types ‘const int[int]’ for array subscript
         (!args[1]->IsNull() && !args[1]->IsUndefined () && !args[1]->IsNumber()) )
                                       ^
../src/Image.cc:172:67: error: invalid types ‘const int[int]’ for array subscript
         (!args[1]->IsNull() && !args[1]->IsUndefined () && !args[1]->IsNumber()) )
                                                                   ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:173:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("Arguments error");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:173:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("Arguments error");
                ^
../src/Image.cc:175:16: error: invalid types ‘const int[int]’ for array subscript
     if ( args[2]->IsString() ) {
                ^
../src/Image.cc:176:38: error: invalid types ‘const int[int]’ for array subscript
         String::Utf8Value cstr(args[2]);
                                      ^
../src/Image.cc:181:49: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     Image *img = ObjectWrap::Unwrap<Image>(args.This());
                                                 ^
../src/Image.cc:182:31: error: invalid types ‘const int[int]’ for array subscript
     img->pixels->Resize(args[0]->ToNumber()->Value(), args[1]->ToNumber()->Value(), filter);
                               ^
../src/Image.cc:182:61: error: invalid types ‘const int[int]’ for array subscript
     img->pixels->Resize(args[0]->ToNumber()->Value(), args[1]->ToNumber()->Value(), filter);
                                                             ^
../src/Image.cc:184:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Undefined());
                  ^
../src/Image.cc:184:34: error: too few arguments to function ‘v8::Handle<v8::Primitive> v8::Undefined(v8::Isolate*)’
     return scope.Close(Undefined());
                                  ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:336:28: note: declared here
   friend Handle<Primitive> Undefined(Isolate* isolate);
                            ^
../src/Image.cc: At global scope:
../src/Image.cc:189:63: error: ‘AccessorInfo’ does not name a type
 Handle<Value> Image::GetTransparent(Local<String> prop, const AccessorInfo &info){ // {{{
                                                               ^
../src/Image.cc:189:77: error: ISO C++ forbids declaration of ‘info’ with no type [-fpermissive]
 Handle<Value> Image::GetTransparent(Local<String> prop, const AccessorInfo &info){ // {{{
                                                                             ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::GetTransparent(v8::Local<v8::String>, const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:190:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:191:49: error: request for member ‘This’ in ‘info’, which is of non-class type ‘const int’
     Image *img = ObjectWrap::Unwrap<Image>(info.This());
                                                 ^
../src/Image.cc:192:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Number::New(img->pixels->type));
                  ^
../src/Image.cc:192:53: error: no matching function for call to ‘v8::Number::New(PixelArrayType&)’
     return scope.Close(Number::New(img->pixels->type));
                                                     ^
../src/Image.cc:192:53: note: candidate is:
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note: static v8::Local<v8::Number> v8::Number::New(v8::Isolate*, double)
   static Local<Number> New(Isolate* isolate, double value);
                        ^
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:2061:24: note:   candidate expects 2 arguments, 1 provided
../src/Image.cc: At global scope:
../src/Image.cc:195:38: error: ‘Arguments’ does not name a type
 Handle<Value> Image::FillColor(const Arguments &args){ // {{{
                                      ^
../src/Image.cc:195:49: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value> Image::FillColor(const Arguments &args){ // {{{
                                                 ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::FillColor(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:196:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:200:15: error: invalid types ‘const int[int]’ for array subscript
     if(!args[0]->IsNumber()
               ^
../src/Image.cc:201:15: error: invalid types ‘const int[int]’ for array subscript
     || !args[1]->IsNumber()
               ^
../src/Image.cc:202:15: error: invalid types ‘const int[int]’ for array subscript
     || !args[2]->IsNumber())
               ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:203:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:203:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:206:19: error: invalid types ‘const int[int]’ for array subscript
     cp->R = args[0]->Uint32Value();
                   ^
../src/Image.cc:207:19: error: invalid types ‘const int[int]’ for array subscript
     cp->G = args[1]->Uint32Value();
                   ^
../src/Image.cc:208:19: error: invalid types ‘const int[int]’ for array subscript
     cp->B = args[2]->Uint32Value();
                   ^
../src/Image.cc:211:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[3]->IsNumber()){
              ^
../src/Image.cc:212:34: error: invalid types ‘const int[int]’ for array subscript
         cp->A = (uint8_t) (args[3]->NumberValue() * 0xFF);
                                  ^
../src/Image.cc:215:42: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     img = ObjectWrap::Unwrap<Image>(args.This());
                                          ^
../src/Image.cc:218:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Undefined());
                  ^
../src/Image.cc:218:34: error: too few arguments to function ‘v8::Handle<v8::Primitive> v8::Undefined(v8::Isolate*)’
     return scope.Close(Undefined());
                                  ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:336:28: note: declared here
   friend Handle<Primitive> Undefined(Isolate* isolate);
                            ^
../src/Image.cc: At global scope:
../src/Image.cc:221:43: error: ‘Arguments’ does not name a type
 Handle<Value> Image::LoadFromBuffer(const Arguments &args){ // {{{
                                           ^
../src/Image.cc:221:54: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value> Image::LoadFromBuffer(const Arguments &args){ // {{{
                                                      ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::LoadFromBuffer(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:222:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:232:35: error: invalid types ‘const int[int]’ for array subscript
     if(!Buffer::HasInstance(args[0])){
                                   ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:233:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR(": first argument must be a buffer.");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:233:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR(": first argument must be a buffer.");
                ^
../src/Image.cc:236:42: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     img = ObjectWrap::Unwrap<Image>(args.This());
                                          ^
../src/Image.cc:238:45: error: invalid types ‘const int[int]’ for array subscript
     buffer = (uint8_t *) Buffer::Data(args[0]->ToObject());
                                             ^
../src/Image.cc:239:35: error: invalid types ‘const int[int]’ for array subscript
     length = Buffer::Length(args[0]->ToObject());
                                   ^
../src/Image.cc:242:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[1]->IsNumber()){
              ^
../src/Image.cc:243:23: error: invalid types ‘const int[int]’ for array subscript
         start = args[1]->Uint32Value();
                       ^
../src/Image.cc:247:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[2]->IsNumber()){
              ^
../src/Image.cc:248:21: error: invalid types ‘const int[int]’ for array subscript
         end = args[2]->Uint32Value();
                     ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:250:20: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
             return THROW_INVALID_ARGUMENTS_ERROR("");
                    ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:250:20: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
             return THROW_INVALID_ARGUMENTS_ERROR("");
                    ^
../src/Image.cc:264:26: error: ‘class v8::HandleScope’ has no member named ‘Close’
             return scope.Close(Undefined());
                          ^
../src/Image.cc:264:42: error: too few arguments to function ‘v8::Handle<v8::Primitive> v8::Undefined(v8::Isolate*)’
             return scope.Close(Undefined());
                                          ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:336:28: note: declared here
   friend Handle<Primitive> Undefined(Isolate* isolate);
                            ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:28:27: note: in expansion of macro ‘THROW’
 #define THROW_GET_ERROR() THROW(GET_ERROR())
                           ^
../src/Image.cc:268:25: note: in expansion of macro ‘THROW_GET_ERROR’
     return isError() ? (THROW_GET_ERROR()) : THROW_ERROR("Unknow format");
                         ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:27:32: note: in expansion of macro ‘ERRORR’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                                ^
../src/Image.cc:268:46: note: in expansion of macro ‘THROW_ERROR’
     return isError() ? (THROW_GET_ERROR()) : THROW_ERROR("Unknow format");
                                              ^
../src/Image.cc: At global scope:
../src/Image.cc:271:42: error: ‘Arguments’ does not name a type
 Handle<Value> Image::CopyFromImage(const Arguments &args){ // {{{
                                          ^
../src/Image.cc:271:53: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value> Image::CopyFromImage(const Arguments &args){ // {{{
                                                     ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::CopyFromImage(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:272:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:276:31: error: invalid types ‘const int[int]’ for array subscript
     Local<Object> obj = args[0]->ToObject();
                               ^
../src/Image.cc:278:27: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::FunctionTemplate>’
     if(!Image::constructor->HasInstance(obj))
                           ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:279:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:279:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:282:42: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     dst = ObjectWrap::Unwrap<Image>(args.This());
                                          ^
../src/Image.cc:288:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[1]->IsNumber()   // x
              ^
../src/Image.cc:289:14: error: invalid types ‘const int[int]’ for array subscript
     && args[2]->IsNumber()){ // y
              ^
../src/Image.cc:290:19: error: invalid types ‘const int[int]’ for array subscript
         x = args[1]->Uint32Value();
                   ^
../src/Image.cc:291:19: error: invalid types ‘const int[int]’ for array subscript
         y = args[2]->Uint32Value();
                   ^
../src/Image.cc:294:14: error: invalid types ‘const int[int]’ for array subscript
     if(args[3]->IsNumber()   // w
              ^
../src/Image.cc:295:14: error: invalid types ‘const int[int]’ for array subscript
     && args[4]->IsNumber()){ // h
              ^
../src/Image.cc:296:19: error: invalid types ‘const int[int]’ for array subscript
         w = args[3]->Uint32Value();
                   ^
../src/Image.cc:297:19: error: invalid types ‘const int[int]’ for array subscript
         h = args[4]->Uint32Value();
                   ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:28:27: note: in expansion of macro ‘THROW’
 #define THROW_GET_ERROR() THROW(GET_ERROR())
                           ^
../src/Image.cc:301:16: note: in expansion of macro ‘THROW_GET_ERROR’
         return THROW_GET_ERROR();
                ^
../src/Image.cc:304:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Undefined());
                  ^
../src/Image.cc:304:34: error: too few arguments to function ‘v8::Handle<v8::Primitive> v8::Undefined(v8::Isolate*)’
     return scope.Close(Undefined());
                                  ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:336:28: note: declared here
   friend Handle<Primitive> Undefined(Isolate* isolate);
                            ^
../src/Image.cc: At global scope:
../src/Image.cc:307:38: error: ‘Arguments’ does not name a type
 Handle<Value> Image::DrawImage(const Arguments &args) { // {{{
                                      ^
../src/Image.cc:307:49: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value> Image::DrawImage(const Arguments &args) { // {{{
                                                 ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::DrawImage(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:308:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:313:31: error: invalid types ‘const int[int]’ for array subscript
     Local<Object> obj = args[0]->ToObject();
                               ^
../src/Image.cc:315:27: error: base operand of ‘->’ has non-pointer type ‘v8::Persistent<v8::FunctionTemplate>’
     if(!Image::constructor->HasInstance(obj)
                           ^
../src/Image.cc:316:15: error: invalid types ‘const int[int]’ for array subscript
     || !args[1]->IsNumber() // x
               ^
../src/Image.cc:317:15: error: invalid types ‘const int[int]’ for array subscript
     || !args[2]->IsNumber()) // y
               ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:318:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:318:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:321:42: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     dst = ObjectWrap::Unwrap<Image>(args.This());
                                          ^
../src/Image.cc:323:15: error: invalid types ‘const int[int]’ for array subscript
     x = args[1]->Uint32Value();
               ^
../src/Image.cc:324:15: error: invalid types ‘const int[int]’ for array subscript
     y = args[2]->Uint32Value();
               ^
../src/Image.cc:327:18: error: ‘class v8::HandleScope’ has no member named ‘Close’
     return scope.Close(Undefined());
                  ^
../src/Image.cc:327:34: error: too few arguments to function ‘v8::Handle<v8::Primitive> v8::Undefined(v8::Isolate*)’
     return scope.Close(Undefined());
                                  ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:336:28: note: declared here
   friend Handle<Primitive> Undefined(Isolate* isolate);
                            ^
../src/Image.cc: At global scope:
../src/Image.cc:330:37: error: ‘Arguments’ does not name a type
 Handle<Value> Image::ToBuffer(const Arguments &args){ //{{{
                                     ^
../src/Image.cc:330:48: error: ISO C++ forbids declaration of ‘args’ with no type [-fpermissive]
 Handle<Value> Image::ToBuffer(const Arguments &args){ //{{{
                                                ^
In file included from ../src/Image.h:9:0,
                 from ../src/Image.cc:6:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h: In static member function ‘static v8::Handle<v8::Value> Image::ToBuffer(const int&)’:
/home/boooo/.node-gyp/0.11.13/deps/v8/include/v8.h:845:13: error: ‘v8::HandleScope::HandleScope()’ is protected
   V8_INLINE HandleScope() {}
             ^
../src/Image.cc:331:17: error: within this context
     HandleScope scope;
                 ^
../src/Image.cc:342:12: error: expected primary-expression before ‘*’ token
     Buffer *buffer;
            ^
../src/Image.cc:342:13: error: ‘buffer’ was not declared in this scope
     Buffer *buffer;
             ^
../src/Image.cc:345:15: error: invalid types ‘const int[int]’ for array subscript
     if(!args[0]->IsNumber())
               ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:30:37: note: in expansion of macro ‘ERRORR’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                                     ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:346:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:30:31: note: in expansion of macro ‘THROW’
 #define THROW_TYPE_ERROR(msg) THROW(ERRORR(Type, FILE_LINE(msg)))
                               ^
../src/Image.cc:31:44: note: in expansion of macro ‘THROW_TYPE_ERROR’
 #define THROW_INVALID_ARGUMENTS_ERROR(msg) THROW_TYPE_ERROR("Invalid arguments" msg)
                                            ^
../src/Image.cc:346:16: note: in expansion of macro ‘THROW_INVALID_ARGUMENTS_ERROR’
         return THROW_INVALID_ARGUMENTS_ERROR("");
                ^
../src/Image.cc:347:30: error: invalid types ‘const int[int]’ for array subscript
     type = (ImageType) args[0]->Uint32Value();
                              ^
../src/Image.cc:350:34: error: invalid types ‘const int[int]’ for array subscript
     if(Buffer::HasInstance(args[1])){
                                  ^
../src/Image.cc:352:43: error: invalid types ‘const int[int]’ for array subscript
         config->data = Buffer::Data(args[1]->ToObject());
                                           ^
../src/Image.cc:353:47: error: invalid types ‘const int[int]’ for array subscript
         config->length = Buffer::Length(args[1]->ToObject());
                                               ^
../src/Image.cc:356:42: error: request for member ‘This’ in ‘args’, which is of non-class type ‘const int’
     img = ObjectWrap::Unwrap<Image>(args.This());
                                          ^
../src/Image.cc:376:38: error: ‘class v8::HandleScope’ has no member named ‘Close’
                         return scope.Close(buffer->handle_);
                                      ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:27:32: note: in expansion of macro ‘ERRORR’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                                ^
../src/Image.cc:380:33: note: in expansion of macro ‘THROW_ERROR’
                         return  THROW_ERROR("Encode fail.");
                                 ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:27:26: note: in expansion of macro ‘THROW’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                          ^
../src/Image.cc:380:33: note: in expansion of macro ‘THROW_ERROR’
                         return  THROW_ERROR("Encode fail.");
                                 ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:27:32: note: in expansion of macro ‘ERRORR’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                                ^
../src/Image.cc:383:28: note: in expansion of macro ‘THROW_ERROR’
                     return THROW_ERROR("Can't encode to this format.");
                            ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:27:26: note: in expansion of macro ‘THROW’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                          ^
../src/Image.cc:383:28: note: in expansion of macro ‘THROW_ERROR’
                     return THROW_ERROR("Can't encode to this format.");
                            ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:28:27: note: in expansion of macro ‘THROW’
 #define THROW_GET_ERROR() THROW(GET_ERROR())
                           ^
../src/Image.cc:388:29: note: in expansion of macro ‘THROW_GET_ERROR’
         return isError() ? (THROW_GET_ERROR()) : (THROW_ERROR("Unsupported type."));
                             ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:27:32: note: in expansion of macro ‘ERRORR’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                                ^
../src/Image.cc:388:51: note: in expansion of macro ‘THROW_ERROR’
         return isError() ? (THROW_GET_ERROR()) : (THROW_ERROR("Unsupported type."));
                                                   ^
../src/Image.cc:22:50: error: ‘New’ is not a member of ‘v8::String’
 #define ERRORR(type, msg) Exception::type##Error(String::New(msg))
                                                  ^
../src/Image.cc:23:35: note: in definition of macro ‘THROW’
 #define THROW(err) ThrowException(err)
                                   ^
../src/Image.cc:27:32: note: in expansion of macro ‘ERRORR’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                                ^
../src/Image.cc:390:16: note: in expansion of macro ‘THROW_ERROR’
         return THROW_ERROR("Image uninitialized.");
                ^
../src/Image.cc:23:38: error: ‘ThrowException’ was not declared in this scope
 #define THROW(err) ThrowException(err)
                                      ^
../src/Image.cc:27:26: note: in expansion of macro ‘THROW’
 #define THROW_ERROR(msg) THROW(ERRORR(,FILE_LINE(msg)))
                          ^
../src/Image.cc:390:16: note: in expansion of macro ‘THROW_ERROR’
         return THROW_ERROR("Image uninitialized.");
                ^
../src/Image.cc: In constructor ‘Image::Image()’:
../src/Image.cc:409:5: error: ‘AdjustAmountOfExternalAllocatedMemory’ is not a member of ‘v8::V8’
     V8::AdjustAmountOfExternalAllocatedMemory(sizeof(PixelArray) + sizeof(Image));
     ^
../src/Image.cc: In destructor ‘virtual Image::~Image()’:
../src/Image.cc:418:5: error: ‘AdjustAmountOfExternalAllocatedMemory’ is not a member of ‘v8::V8’
     V8::AdjustAmountOfExternalAllocatedMemory(-size);
     ^
../src/Image.cc: In member function ‘ImageState PixelArray::Malloc(size_t, size_t)’:
../src/Image.cc:461:5: error: ‘AdjustAmountOfExternalAllocatedMemory’ is not a member of ‘v8::V8’
     V8::AdjustAmountOfExternalAllocatedMemory(Size());
     ^
../src/Image.cc: In member function ‘void PixelArray::Free()’:
../src/Image.cc:485:9: error: ‘AdjustAmountOfExternalAllocatedMemory’ is not a member of ‘v8::V8’
         V8::AdjustAmountOfExternalAllocatedMemory(-Size());
         ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::GetMaxWidth(v8::Local<v8::String>, const int&)’:
../src/Image.cc:98:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::GetMaxHeight(v8::Local<v8::String>, const int&)’:
../src/Image.cc:108:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::New(const int&)’:
../src/Image.cc:134:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::GetWidth(v8::Local<v8::String>, const int&)’:
../src/Image.cc:140:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::GetHeight(v8::Local<v8::String>, const int&)’:
../src/Image.cc:153:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::Resize(const int&)’:
../src/Image.cc:185:1: warning: control reaches end of non-void function [-Wreturn-type]
 }
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::GetTransparent(v8::Local<v8::String>, const int&)’:
../src/Image.cc:193:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::FillColor(const int&)’:
../src/Image.cc:219:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::LoadFromBuffer(const int&)’:
../src/Image.cc:269:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::CopyFromImage(const int&)’:
../src/Image.cc:305:1: warning: control reaches end of non-void function [-Wreturn-type]
 }// }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::DrawImage(const int&)’:
../src/Image.cc:328:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
../src/Image.cc: In static member function ‘static v8::Handle<v8::Value> Image::ToBuffer(const int&)’:
../src/Image.cc:392:1: warning: control reaches end of non-void function [-Wreturn-type]
 } // }}}
 ^
make: *** [Release/obj.target/binding/src/Image.o] 错误 1
gyp ERR! build error 
gyp ERR! stack Error: `make` failed with exit code: 2
gyp ERR! stack     at ChildProcess.onExit (/usr/local/lib/node_modules/cnpm/node_modules/npm/node_modules/node-gyp/lib/build.js:267:23)
gyp ERR! stack     at ChildProcess.EventEmitter.emit (events.js:110:17)
gyp ERR! stack     at Process.ChildProcess._handle.onexit (child_process.js:1046:12)
gyp ERR! System Linux 3.13.0-26-generic
gyp ERR! command "node" "/usr/local/lib/node_modules/cnpm/node_modules/npm/node_modules/node-gyp/bin/node-gyp.js" "rebuild"
gyp ERR! cwd /home/boooo/WebstormProjects/Moreii-express/node_modules/images
gyp ERR! node -v v0.11.13
gyp ERR! node-gyp -v v0.13.0
gyp ERR! not ok 
Build failed
